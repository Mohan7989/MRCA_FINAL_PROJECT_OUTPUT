{"ast":null,"code":"import axios from'axios';// Base URL - change to your backend URL when ready.\nexport const API_BASE_URL=process.env.REACT_APP_API_BASE_URL||'http://localhost:8080/api';const axiosInstance=axios.create({baseURL:API_BASE_URL,timeout:30000});// Upload an item (multipart)\nexport async function uploadMaterial(formData){try{const res=await axiosInstance.post('/uploads',formData,{headers:{'Content-Type':'multipart/form-data'}});return res.data;}catch(err){// Improved error logging\nconsole.error('uploadMaterial error:',{message:err.message,isAxiosError:err.isAxiosError,response:err.response?{status:err.response.status,data:err.response.data}:null,config:err.config});// rethrow so UI can handle and display proper message\nthrow err;}}// Get materials with filters\nexport async function fetchMaterials(){let filters=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};try{const res=await axiosInstance.get('/materials',{params:filters});return res.data;}catch(err){console.error('fetchMaterials error:',{message:err.message,isAxiosError:err.isAxiosError,response:err.response?{status:err.response.status,data:err.response.data}:null,config:err.config});// bubble up error so caller can know backend is offline vs empty result\nthrow err;}}","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","axiosInstance","create","baseURL","timeout","uploadMaterial","formData","res","post","headers","data","err","console","error","message","isAxiosError","response","status","config","fetchMaterials","filters","arguments","length","undefined","get","params"],"sources":["D:/Backend-project/frontend/src/api/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\n// Base URL - change to your backend URL when ready.\r\nexport const API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:8080/api';\r\n\r\nconst axiosInstance = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  timeout: 30000\r\n});\r\n\r\n// Upload an item (multipart)\r\nexport async function uploadMaterial(formData) {\r\n  try {\r\n    const res = await axiosInstance.post('/uploads', formData, {\r\n      headers: { 'Content-Type': 'multipart/form-data' }\r\n    });\r\n    return res.data;\r\n  } catch (err) {\r\n    // Improved error logging\r\n    console.error('uploadMaterial error:', {\r\n      message: err.message,\r\n      isAxiosError: err.isAxiosError,\r\n      response: err.response ? { status: err.response.status, data: err.response.data } : null,\r\n      config: err.config\r\n    });\r\n    // rethrow so UI can handle and display proper message\r\n    throw err;\r\n  }\r\n}\r\n\r\n// Get materials with filters\r\nexport async function fetchMaterials(filters = {}) {\r\n  try {\r\n    const res = await axiosInstance.get('/materials', { params: filters });\r\n    return res.data;\r\n  } catch (err) {\r\n    console.error('fetchMaterials error:', {\r\n      message: err.message,\r\n      isAxiosError: err.isAxiosError,\r\n      response: err.response ? { status: err.response.status, data: err.response.data } : null,\r\n      config: err.config\r\n    });\r\n    // bubble up error so caller can know backend is offline vs empty result\r\n    throw err;\r\n  }\r\n}\r\n\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB;AACA,MAAO,MAAM,CAAAC,YAAY,CAAGC,OAAO,CAACC,GAAG,CAACC,sBAAsB,EAAI,2BAA2B,CAE7F,KAAM,CAAAC,aAAa,CAAGL,KAAK,CAACM,MAAM,CAAC,CACjCC,OAAO,CAAEN,YAAY,CACrBO,OAAO,CAAE,KACX,CAAC,CAAC,CAEF;AACA,MAAO,eAAe,CAAAC,cAAcA,CAACC,QAAQ,CAAE,CAC7C,GAAI,CACF,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAN,aAAa,CAACO,IAAI,CAAC,UAAU,CAAEF,QAAQ,CAAE,CACzDG,OAAO,CAAE,CAAE,cAAc,CAAE,qBAAsB,CACnD,CAAC,CAAC,CACF,MAAO,CAAAF,GAAG,CAACG,IAAI,CACjB,CAAE,MAAOC,GAAG,CAAE,CACZ;AACAC,OAAO,CAACC,KAAK,CAAC,uBAAuB,CAAE,CACrCC,OAAO,CAAEH,GAAG,CAACG,OAAO,CACpBC,YAAY,CAAEJ,GAAG,CAACI,YAAY,CAC9BC,QAAQ,CAAEL,GAAG,CAACK,QAAQ,CAAG,CAAEC,MAAM,CAAEN,GAAG,CAACK,QAAQ,CAACC,MAAM,CAAEP,IAAI,CAAEC,GAAG,CAACK,QAAQ,CAACN,IAAK,CAAC,CAAG,IAAI,CACxFQ,MAAM,CAAEP,GAAG,CAACO,MACd,CAAC,CAAC,CACF;AACA,KAAM,CAAAP,GAAG,CACX,CACF,CAEA;AACA,MAAO,eAAe,CAAAQ,cAAcA,CAAA,CAAe,IAAd,CAAAC,OAAO,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CAAC,CAC/C,GAAI,CACF,KAAM,CAAAd,GAAG,CAAG,KAAM,CAAAN,aAAa,CAACuB,GAAG,CAAC,YAAY,CAAE,CAAEC,MAAM,CAAEL,OAAQ,CAAC,CAAC,CACtE,MAAO,CAAAb,GAAG,CAACG,IAAI,CACjB,CAAE,MAAOC,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAAC,uBAAuB,CAAE,CACrCC,OAAO,CAAEH,GAAG,CAACG,OAAO,CACpBC,YAAY,CAAEJ,GAAG,CAACI,YAAY,CAC9BC,QAAQ,CAAEL,GAAG,CAACK,QAAQ,CAAG,CAAEC,MAAM,CAAEN,GAAG,CAACK,QAAQ,CAACC,MAAM,CAAEP,IAAI,CAAEC,GAAG,CAACK,QAAQ,CAACN,IAAK,CAAC,CAAG,IAAI,CACxFQ,MAAM,CAAEP,GAAG,CAACO,MACd,CAAC,CAAC,CACF;AACA,KAAM,CAAAP,GAAG,CACX,CACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}