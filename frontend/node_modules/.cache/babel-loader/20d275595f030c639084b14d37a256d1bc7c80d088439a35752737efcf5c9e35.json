{"ast":null,"code":"import axios from 'axios';\n\n// Base URL - change to your backend URL when ready.\nexport const API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:8080/api';\nconst axiosInstance = axios.create({\n  baseURL: API_BASE_URL,\n  timeout: 30000\n});\n\n// Upload an item (multipart)\nexport async function uploadMaterial(formData) {\n  try {\n    const res = await axiosInstance.post('/uploads', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    return res.data;\n  } catch (err) {\n    // Improved error logging\n    console.error('uploadMaterial error:', {\n      message: err.message,\n      isAxiosError: err.isAxiosError,\n      response: err.response ? {\n        status: err.response.status,\n        data: err.response.data\n      } : null,\n      config: err.config\n    });\n    // rethrow so UI can handle and display proper message\n    throw err;\n  }\n}\n\n// Get materials with filters\nexport async function fetchMaterials(filters = {}) {\n  try {\n    const res = await axiosInstance.get('/materials', {\n      params: filters\n    });\n    return res.data;\n  } catch (err) {\n    console.error('fetchMaterials error:', {\n      message: err.message,\n      isAxiosError: err.isAxiosError,\n      response: err.response ? {\n        status: err.response.status,\n        data: err.response.data\n      } : null,\n      config: err.config\n    });\n    // bubble up error so caller can know backend is offline vs empty result\n    throw err;\n  }\n}","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","axiosInstance","create","baseURL","timeout","uploadMaterial","formData","res","post","headers","data","err","console","error","message","isAxiosError","response","status","config","fetchMaterials","filters","get","params"],"sources":["D:/Backend-project/frontend/src/api/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\n// Base URL - change to your backend URL when ready.\r\nexport const API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:8080/api';\r\n\r\nconst axiosInstance = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  timeout: 30000\r\n});\r\n\r\n// Upload an item (multipart)\r\nexport async function uploadMaterial(formData) {\r\n  try {\r\n    const res = await axiosInstance.post('/uploads', formData, {\r\n      headers: { 'Content-Type': 'multipart/form-data' }\r\n    });\r\n    return res.data;\r\n  } catch (err) {\r\n    // Improved error logging\r\n    console.error('uploadMaterial error:', {\r\n      message: err.message,\r\n      isAxiosError: err.isAxiosError,\r\n      response: err.response ? { status: err.response.status, data: err.response.data } : null,\r\n      config: err.config\r\n    });\r\n    // rethrow so UI can handle and display proper message\r\n    throw err;\r\n  }\r\n}\r\n\r\n// Get materials with filters\r\nexport async function fetchMaterials(filters = {}) {\r\n  try {\r\n    const res = await axiosInstance.get('/materials', { params: filters });\r\n    return res.data;\r\n  } catch (err) {\r\n    console.error('fetchMaterials error:', {\r\n      message: err.message,\r\n      isAxiosError: err.isAxiosError,\r\n      response: err.response ? { status: err.response.status, data: err.response.data } : null,\r\n      config: err.config\r\n    });\r\n    // bubble up error so caller can know backend is offline vs empty result\r\n    throw err;\r\n  }\r\n}\r\n\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA,OAAO,MAAMC,YAAY,GAAGC,OAAO,CAACC,GAAG,CAACC,sBAAsB,IAAI,2BAA2B;AAE7F,MAAMC,aAAa,GAAGL,KAAK,CAACM,MAAM,CAAC;EACjCC,OAAO,EAAEN,YAAY;EACrBO,OAAO,EAAE;AACX,CAAC,CAAC;;AAEF;AACA,OAAO,eAAeC,cAAcA,CAACC,QAAQ,EAAE;EAC7C,IAAI;IACF,MAAMC,GAAG,GAAG,MAAMN,aAAa,CAACO,IAAI,CAAC,UAAU,EAAEF,QAAQ,EAAE;MACzDG,OAAO,EAAE;QAAE,cAAc,EAAE;MAAsB;IACnD,CAAC,CAAC;IACF,OAAOF,GAAG,CAACG,IAAI;EACjB,CAAC,CAAC,OAAOC,GAAG,EAAE;IACZ;IACAC,OAAO,CAACC,KAAK,CAAC,uBAAuB,EAAE;MACrCC,OAAO,EAAEH,GAAG,CAACG,OAAO;MACpBC,YAAY,EAAEJ,GAAG,CAACI,YAAY;MAC9BC,QAAQ,EAAEL,GAAG,CAACK,QAAQ,GAAG;QAAEC,MAAM,EAAEN,GAAG,CAACK,QAAQ,CAACC,MAAM;QAAEP,IAAI,EAAEC,GAAG,CAACK,QAAQ,CAACN;MAAK,CAAC,GAAG,IAAI;MACxFQ,MAAM,EAAEP,GAAG,CAACO;IACd,CAAC,CAAC;IACF;IACA,MAAMP,GAAG;EACX;AACF;;AAEA;AACA,OAAO,eAAeQ,cAAcA,CAACC,OAAO,GAAG,CAAC,CAAC,EAAE;EACjD,IAAI;IACF,MAAMb,GAAG,GAAG,MAAMN,aAAa,CAACoB,GAAG,CAAC,YAAY,EAAE;MAAEC,MAAM,EAAEF;IAAQ,CAAC,CAAC;IACtE,OAAOb,GAAG,CAACG,IAAI;EACjB,CAAC,CAAC,OAAOC,GAAG,EAAE;IACZC,OAAO,CAACC,KAAK,CAAC,uBAAuB,EAAE;MACrCC,OAAO,EAAEH,GAAG,CAACG,OAAO;MACpBC,YAAY,EAAEJ,GAAG,CAACI,YAAY;MAC9BC,QAAQ,EAAEL,GAAG,CAACK,QAAQ,GAAG;QAAEC,MAAM,EAAEN,GAAG,CAACK,QAAQ,CAACC,MAAM;QAAEP,IAAI,EAAEC,GAAG,CAACK,QAAQ,CAACN;MAAK,CAAC,GAAG,IAAI;MACxFQ,MAAM,EAAEP,GAAG,CAACO;IACd,CAAC,CAAC;IACF;IACA,MAAMP,GAAG;EACX;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}