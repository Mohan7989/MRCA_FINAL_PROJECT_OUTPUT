{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function AdminDashboard(){const[pending,setPending]=useState([]);const[approved,setApproved]=useState([]);const[loading,setLoading]=useState(true);const backendUrl=\"http://localhost:8080/api/admin\";// Update after deployment\n// âœ… Load data on mount\nuseEffect(()=>{fetchAllData();},[]);const fetchAllData=async()=>{setLoading(true);try{const pendingRes=await fetch(\"\".concat(backendUrl,\"/pending\"));const approvedRes=await fetch(\"\".concat(backendUrl,\"/approved\"));setPending(await pendingRes.json());setApproved(await approvedRes.json());}catch(err){console.error(\"Error loading data:\",err);}setLoading(false);};// âœ… Approve Material\nconst handleApprove=async id=>{if(!window.confirm(\"Approve this material?\"))return;await fetch(\"\".concat(backendUrl,\"/approve/\").concat(id),{method:\"PUT\"});fetchAllData();};// âœ… Delete Material\nconst handleDelete=async id=>{if(!window.confirm(\"Delete this material?\"))return;await fetch(\"\".concat(backendUrl,\"/delete/\").concat(id),{method:\"DELETE\"});fetchAllData();};if(loading)return/*#__PURE__*/_jsx(\"div\",{className:\"text-center p-5\",children:\"Loading...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-100 p-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-center mb-6 text-blue-700\",children:\"Admin Dashboard \\u2013 Manage Materials\"}),/*#__PURE__*/_jsxs(\"section\",{className:\"mb-10\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-3 text-yellow-700\",children:\"Pending Materials\"}),pending.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No pending materials \\uD83C\\uDF89\"}):/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full bg-white border border-gray-300\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-200 text-left\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"p-2 border\",children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2 border\",children:\"Subject\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2 border\",children:\"Year\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2 border\",children:\"Semester\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2 border\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:pending.map(m=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"p-2 border\",children:m.title}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2 border\",children:m.subject}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2 border\",children:m.year}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2 border\",children:m.semester}),/*#__PURE__*/_jsxs(\"td\",{className:\"p-2 border\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleApprove(m.id),className:\"bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded mr-2\",children:\"Approve\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(m.id),className:\"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded\",children:\"Delete\"})]})]},m.id))})]})]}),/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-3 text-green-700\",children:\"Approved Materials\"}),approved.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No approved materials yet.\"}):/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full bg-white border border-gray-300\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-200 text-left\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"p-2 border\",children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2 border\",children:\"Subject\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2 border\",children:\"Year\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2 border\",children:\"Semester\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2 border\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:approved.map(m=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"p-2 border\",children:m.title}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2 border\",children:m.subject}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2 border\",children:m.year}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2 border\",children:m.semester}),/*#__PURE__*/_jsxs(\"td\",{className:\"p-2 border\",children:[/*#__PURE__*/_jsx(\"a\",{href:m.fileUrl,target:\"_blank\",rel:\"noopener noreferrer\",className:\"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded mr-2\",children:\"View\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(m.id),className:\"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded\",children:\"Delete\"})]})]},m.id))})]})]}),/*#__PURE__*/_jsx(\"footer\",{className:\"text-center text-gray-600 mt-10\",children:\"Built by Mohan \\xA9 2025 All Rights Reserved\"})]});}","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","AdminDashboard","pending","setPending","approved","setApproved","loading","setLoading","backendUrl","fetchAllData","pendingRes","fetch","concat","approvedRes","json","err","console","error","handleApprove","id","window","confirm","method","handleDelete","className","children","length","map","m","title","subject","year","semester","onClick","href","fileUrl","target","rel"],"sources":["D:/Backend-project/frontend/src/pages/AdminDashboard.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n\r\nexport default function AdminDashboard() {\r\n  const [pending, setPending] = useState([]);\r\n  const [approved, setApproved] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const backendUrl = \"http://localhost:8080/api/admin\"; // Update after deployment\r\n\r\n  // âœ… Load data on mount\r\n  useEffect(() => {\r\n    fetchAllData();\r\n  }, []);\r\n\r\n  const fetchAllData = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const pendingRes = await fetch(`${backendUrl}/pending`);\r\n      const approvedRes = await fetch(`${backendUrl}/approved`);\r\n      setPending(await pendingRes.json());\r\n      setApproved(await approvedRes.json());\r\n    } catch (err) {\r\n      console.error(\"Error loading data:\", err);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  // âœ… Approve Material\r\n  const handleApprove = async (id) => {\r\n    if (!window.confirm(\"Approve this material?\")) return;\r\n    await fetch(`${backendUrl}/approve/${id}`, { method: \"PUT\" });\r\n    fetchAllData();\r\n  };\r\n\r\n  // âœ… Delete Material\r\n  const handleDelete = async (id) => {\r\n    if (!window.confirm(\"Delete this material?\")) return;\r\n    await fetch(`${backendUrl}/delete/${id}`, { method: \"DELETE\" });\r\n    fetchAllData();\r\n  };\r\n\r\n  if (loading) return <div className=\"text-center p-5\">Loading...</div>;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100 p-6\">\r\n      <h1 className=\"text-3xl font-bold text-center mb-6 text-blue-700\">\r\n        Admin Dashboard â€“ Manage Materials\r\n      </h1>\r\n\r\n      {/* Pending Materials */}\r\n      <section className=\"mb-10\">\r\n        <h2 className=\"text-xl font-semibold mb-3 text-yellow-700\">Pending Materials</h2>\r\n        {pending.length === 0 ? (\r\n          <p>No pending materials ðŸŽ‰</p>\r\n        ) : (\r\n          <table className=\"min-w-full bg-white border border-gray-300\">\r\n            <thead>\r\n              <tr className=\"bg-gray-200 text-left\">\r\n                <th className=\"p-2 border\">Title</th>\r\n                <th className=\"p-2 border\">Subject</th>\r\n                <th className=\"p-2 border\">Year</th>\r\n                <th className=\"p-2 border\">Semester</th>\r\n                <th className=\"p-2 border\">Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {pending.map((m) => (\r\n                <tr key={m.id}>\r\n                  <td className=\"p-2 border\">{m.title}</td>\r\n                  <td className=\"p-2 border\">{m.subject}</td>\r\n                  <td className=\"p-2 border\">{m.year}</td>\r\n                  <td className=\"p-2 border\">{m.semester}</td>\r\n                  <td className=\"p-2 border\">\r\n                    <button\r\n                      onClick={() => handleApprove(m.id)}\r\n                      className=\"bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded mr-2\"\r\n                    >\r\n                      Approve\r\n                    </button>\r\n                    <button\r\n                      onClick={() => handleDelete(m.id)}\r\n                      className=\"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded\"\r\n                    >\r\n                      Delete\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        )}\r\n      </section>\r\n\r\n      {/* Approved Materials */}\r\n      <section>\r\n        <h2 className=\"text-xl font-semibold mb-3 text-green-700\">Approved Materials</h2>\r\n        {approved.length === 0 ? (\r\n          <p>No approved materials yet.</p>\r\n        ) : (\r\n          <table className=\"min-w-full bg-white border border-gray-300\">\r\n            <thead>\r\n              <tr className=\"bg-gray-200 text-left\">\r\n                <th className=\"p-2 border\">Title</th>\r\n                <th className=\"p-2 border\">Subject</th>\r\n                <th className=\"p-2 border\">Year</th>\r\n                <th className=\"p-2 border\">Semester</th>\r\n                <th className=\"p-2 border\">Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {approved.map((m) => (\r\n                <tr key={m.id}>\r\n                  <td className=\"p-2 border\">{m.title}</td>\r\n                  <td className=\"p-2 border\">{m.subject}</td>\r\n                  <td className=\"p-2 border\">{m.year}</td>\r\n                  <td className=\"p-2 border\">{m.semester}</td>\r\n                  <td className=\"p-2 border\">\r\n                    <a\r\n                      href={m.fileUrl}\r\n                      target=\"_blank\"\r\n                      rel=\"noopener noreferrer\"\r\n                      className=\"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded mr-2\"\r\n                    >\r\n                      View\r\n                    </a>\r\n                    <button\r\n                      onClick={() => handleDelete(m.id)}\r\n                      className=\"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded\"\r\n                    >\r\n                      Delete\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        )}\r\n      </section>\r\n\r\n      {/* Footer */}\r\n      <footer className=\"text-center text-gray-600 mt-10\">\r\n        Built by Mohan Â© 2025 All Rights Reserved\r\n      </footer>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}