{"ast":null,"code":"import _objectSpread from\"D:/Backend-project/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import MaterialsList from'../components/MaterialsList';import{fetchMaterials}from'../api/api';import SEO from'../components/SEO';// ‚úÖ IMPORTED SEO COMPONENT\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SUBJECTS=['All','Telugu','English','Physics','Maths','Chemistry','Computer'];const YEARS=['All','2020','2021','2022','2023','2024','2025'];const TYPES=['All','question paper','notes','pdf','image'];export default function SemesterPage(){const{slug}=useParams();const[filters,setFilters]=useState({semester:slug,group:'',subject:'All',year:'All',type:'All'});const[materials,setMaterials]=useState([]);const[loading,setLoading]=useState(false);useEffect(()=>{// ensure filters.semester reflects route slug, then load\nconst f=_objectSpread(_objectSpread({},filters),{},{semester:slug||filters.semester});setFilters(f);loadMaterials(f);// eslint-disable-next-line\n},[slug]);const loadMaterials=async f=>{setLoading(true);try{const res=await fetchMaterials({semester:f.semester,subject:f.subject!=='All'?f.subject:undefined,group:f.group||undefined,year:f.year!=='All'?f.year:undefined,type:f.type!=='All'?f.type:undefined});// if backend returns {items: []}\nsetMaterials(res.items||demoFetch(f));}catch(err){// fallback demo\nsetMaterials(demoFetch(f));}finally{setLoading(false);}};const onSubmit=e=>{e.preventDefault();loadMaterials(filters);};function demoFetch(f){// small demo dataset: only show items when semester includes 'sem-'\nif(!f||!f.semester)return[];// show some mock if sem-2 or sem-1 etc else empty\nif(f.semester.startsWith('sem')){return[{id:'demo-1',title:\"\".concat(f.semester.toUpperCase(),\" - Sample Question Paper\"),subject:f.subject==='All'?'Physics':f.subject,semester:f.semester,year:f.year==='All'?'2024':f.year,description:'Mock sample question paper uploaded for demo',fileUrl:null// null means pending in demo\n}];}// internships show no items demo\nreturn[];}// ‚úÖ SEO HELPER FUNCTION\nconst getPageTitle=s=>{if(!s)return\"Semester Materials\";// Converts \"sem-1\" to \"Sem 1\"\nreturn s.replace('-',' ').split(' ').map(word=>word.charAt(0).toUpperCase()+word.slice(1)).join(' ');};// compute user-friendly title from slug\nconst semesterTitle=getPageTitle(slug||filters.semester);return/*#__PURE__*/_jsxs(\"div\",{className:\"semester-page\",children:[/*#__PURE__*/_jsx(SEO,{title:\"MRAC Study Materials - \".concat(semesterTitle,\" Notes and Papers\"),description:\"Browse all approved study materials, notes, question papers, and resources for \".concat(semesterTitle,\" at MRAC College.\"),name:\"MRAC Student Portal\",type:\"article\"}),/*#__PURE__*/_jsx(\"div\",{className:\"hero\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"hero-inner\",children:[/*#__PURE__*/_jsx(\"h1\",{children:semesterTitle.toUpperCase()}),/*#__PURE__*/_jsx(\"p\",{children:\"Find materials, question papers and notes for this semester\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filter-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filter-header\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"filter-title\",children:\"\\uD83D\\uDD0D Filter Materials\"}),/*#__PURE__*/_jsx(\"p\",{className:\"filter-subtitle\",children:\"Find exactly what you're looking for\"})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"filter-form\",onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"filter-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"filter-group\"}),/*#__PURE__*/_jsx(\"div\",{className:\"filter-group\"}),/*#__PURE__*/_jsx(\"div\",{className:\"filter-group\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"filter-group\"}),/*#__PURE__*/_jsx(\"div\",{className:\"filter-group\"}),/*#__PURE__*/_jsx(\"div\",{className:\"filter-actions\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"results-section\",children:[/*#__PURE__*/_jsx(\"h2\",{style:{marginTop:'1rem'},children:\"Results\"}),loading?/*#__PURE__*/_jsxs(\"div\",{className:\"loading-state\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Loading materials...\"})]}):/*#__PURE__*/_jsx(MaterialsList,{items:materials})]})]})]});}","map":{"version":3,"names":["React","useState","useEffect","useParams","MaterialsList","fetchMaterials","SEO","jsx","_jsx","jsxs","_jsxs","SUBJECTS","YEARS","TYPES","SemesterPage","slug","filters","setFilters","semester","group","subject","year","type","materials","setMaterials","loading","setLoading","f","_objectSpread","loadMaterials","res","undefined","items","demoFetch","err","onSubmit","e","preventDefault","startsWith","id","title","concat","toUpperCase","description","fileUrl","getPageTitle","s","replace","split","map","word","charAt","slice","join","semesterTitle","className","children","name","style","marginTop"],"sources":["D:/Backend-project/frontend/src/pages/SemesterPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport MaterialsList from '../components/MaterialsList';\r\nimport { fetchMaterials } from '../api/api';\r\nimport SEO from '../components/SEO'; // ‚úÖ IMPORTED SEO COMPONENT\r\n\r\nconst SUBJECTS = ['All', 'Telugu', 'English', 'Physics', 'Maths', 'Chemistry', 'Computer'];\r\nconst YEARS = ['All', '2020', '2021', '2022', '2023', '2024', '2025'];\r\nconst TYPES = ['All', 'question paper', 'notes', 'pdf', 'image'];\r\n\r\nexport default function SemesterPage() {\r\n  const { slug } = useParams();\r\n  const [filters, setFilters] = useState({\r\n    semester: slug,\r\n    group: '',\r\n    subject: 'All',\r\n    year: 'All',\r\n    type: 'All'\r\n  });\r\n  const [materials, setMaterials] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // ensure filters.semester reflects route slug, then load\r\n    const f = { ...filters, semester: slug || filters.semester };\r\n    setFilters(f);\r\n    loadMaterials(f);\r\n    // eslint-disable-next-line\r\n  }, [slug]);\r\n\r\n  const loadMaterials = async (f) => {\r\n    setLoading(true);\r\n    try {\r\n      const res = await fetchMaterials({\r\n        semester: f.semester,\r\n        subject: f.subject !== 'All' ? f.subject : undefined,\r\n        group: f.group || undefined,\r\n        year: f.year !== 'All' ? f.year : undefined,\r\n        type: f.type !== 'All' ? f.type : undefined\r\n      });\r\n      // if backend returns {items: []}\r\n      setMaterials(res.items || demoFetch(f));\r\n    } catch (err) {\r\n      // fallback demo\r\n      setMaterials(demoFetch(f));\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    loadMaterials(filters);\r\n  };\r\n\r\n  function demoFetch(f) {\r\n    // small demo dataset: only show items when semester includes 'sem-'\r\n    if (!f || !f.semester) return [];\r\n    // show some mock if sem-2 or sem-1 etc else empty\r\n    if (f.semester.startsWith('sem')) {\r\n      return [\r\n        {\r\n          id: 'demo-1',\r\n          title: `${f.semester.toUpperCase()} - Sample Question Paper`,\r\n          subject: f.subject === 'All' ? 'Physics' : f.subject,\r\n          semester: f.semester,\r\n          year: f.year === 'All' ? '2024' : f.year,\r\n          description: 'Mock sample question paper uploaded for demo',\r\n          fileUrl: null // null means pending in demo\r\n        }\r\n      ];\r\n    }\r\n    // internships show no items demo\r\n    return [];\r\n  }\r\n  \r\n  // ‚úÖ SEO HELPER FUNCTION\r\n  const getPageTitle = (s) => {\r\n    if (!s) return \"Semester Materials\";\r\n    // Converts \"sem-1\" to \"Sem 1\"\r\n    return s.replace('-', ' ').split(' ').map(word => \r\n      word.charAt(0).toUpperCase() + word.slice(1)\r\n    ).join(' ');\r\n  }\r\n\r\n  // compute user-friendly title from slug\r\n  const semesterTitle = getPageTitle(slug || filters.semester);\r\n\r\n  return (\r\n    <div className=\"semester-page\">\r\n      {/* ‚úÖ SEO COMPONENT IMPLEMENTED */}\r\n      <SEO \r\n        title={`MRAC Study Materials - ${semesterTitle} Notes and Papers`}\r\n        description={`Browse all approved study materials, notes, question papers, and resources for ${semesterTitle} at MRAC College.`}\r\n        name=\"MRAC Student Portal\"\r\n        type=\"article\"\r\n      />\r\n      \r\n      {/* Hero Section */}\r\n      <div className=\"hero\">\r\n        <div className=\"hero-inner\">\r\n          {/* Use safe computed title */}\r\n          <h1>{semesterTitle.toUpperCase()}</h1>\r\n          <p>Find materials, question papers and notes for this semester</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"container\">\r\n        {/* Beautiful Filter Section */}\r\n        <div className=\"filter-section\">\r\n          <div className=\"filter-header\">\r\n            {/* ‚úÖ CHANGED TO H2: A major section heading, following H1 */}\r\n            <h2 className=\"filter-title\">üîç Filter Materials</h2>\r\n            <p className=\"filter-subtitle\">Find exactly what you're looking for</p>\r\n          </div>\r\n          \r\n          <form className=\"filter-form\" onSubmit={onSubmit}>\r\n            <div className=\"filter-row\">\r\n              <div className=\"filter-group\">\r\n              {/* ... form content remains the same */}\r\n              </div>\r\n\r\n              <div className=\"filter-group\">\r\n              {/* ... form content remains the same */}\r\n              </div>\r\n\r\n              <div className=\"filter-group\">\r\n              {/* ... form content remains the same */}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"filter-row\">\r\n              <div className=\"filter-group\">\r\n              {/* ... form content remains the same */}\r\n              </div>\r\n\r\n              <div className=\"filter-group\">\r\n              {/* ... form content remains the same */}\r\n              </div>\r\n\r\n              <div className=\"filter-actions\">\r\n              {/* ... form content remains the same */}\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n\r\n        {/* Results Section */}\r\n        <div className=\"results-section\">\r\n          {/* ‚úÖ CHANGED TO H2: Another major section heading, following H1 */}\r\n          <h2 style={{ marginTop: '1rem' }}>Results</h2>\r\n          {loading ? (\r\n            <div className=\"loading-state\">\r\n              <div className=\"loading-spinner\"></div>\r\n              <p>Loading materials...</p>\r\n            </div>\r\n          ) : (\r\n            <MaterialsList items={materials} />\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}